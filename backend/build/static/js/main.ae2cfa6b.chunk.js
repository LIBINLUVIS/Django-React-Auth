(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{47:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),s=n.n(r),i=(n(46),n(47),n(15)),o=n(4),u=n(1);var l=function(){return Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("h5",{"mt-5":!0,children:"HOME"})})},j=n(18),p=n(3),d=n(12),b=n(9),h=n(11),m=n.n(h),O=n(19),f=n(16),x=n.n(f),v="LOGIN_SUCCESS",g="LOGIN_FAIL",y="SIGNUP_SUCCESS",S="SIGNUP_FAIL",A="ACTIVATION_FAIL",w="USER_LOADED_SUCCESS",N="USER_LOADED_FAIL",I="AUTHENTICATED_SUCCESS",C="AUTHENTICATED_FAIL",k="LOGOUT",_=function(){return function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return n={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,x.a.get("http://127.0.0.1:8000/auth/users/me/",n);case 5:a=e.sent,t({type:w,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:N});case 12:e.next=15;break;case 14:t({type:N});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()};var L=Object(b.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var n=Object(O.a)(m.a.mark((function n(a){var c,r,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,x.a.post("http://127.0.0.1:8000/auth/jwt/create/",r,c);case 5:s=n.sent,a({type:v,payload:s.data}),a(_()),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0.error),a({type:g});case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuthenticated,c=Object(a.useState)({email:"",password:""}),r=Object(d.a)(c,2),s=r[0],i=r[1],l=s.email,b=s.password,h=function(e){return i(Object(p.a)(Object(p.a)({},s),{},Object(j.a)({},e.target.name,e.target.value)))};return n?Object(u.jsx)(o.a,{to:"/"}):Object(u.jsxs)("div",{className:"container mt-5",children:[Object(u.jsx)("h1",{children:"Sign In"}),Object(u.jsx)("p",{children:"Sign into your Account"}),Object(u.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(l,b)}(e)},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"email",placeholder:"Email",name:"email",value:l,onChange:function(e){return h(e)},required:!0})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",value:b,onChange:function(e){return h(e)},minLength:"6",required:!0})}),Object(u.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})]})]})}));var T=Object(b.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:function(e,t,n,a,c){return function(){var r=Object(O.a)(m.a.mark((function r(s){var i,o,u;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={headers:{"Content-Type":"application/json"}},o=JSON.stringify({first_name:e,last_name:t,email:n,password:a,re_password:c}),r.prev=2,r.next=5,x.a.post("http://127.0.0.1:8000/auth/users/",o,i);case 5:u=r.sent,s({type:y,payload:u.data}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),s({type:S});case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.signup,n=e.isAuthenticated,c=Object(a.useState)(!1),r=Object(d.a)(c,2),s=r[0],l=r[1],b=Object(a.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),h=Object(d.a)(b,2),m=h[0],O=h[1],f=m.first_name,x=m.last_name,v=m.email,g=m.password,y=m.re_password,S=function(e){return O(Object(p.a)(Object(p.a)({},m),{},Object(j.a)({},e.target.name,e.target.value)))};return n?Object(u.jsx)(o.a,{to:"/"}):s?Object(u.jsx)(o.a,{to:"/login"}):Object(u.jsxs)("div",{className:"container mt-5",children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsx)("p",{children:"Create your Account"}),Object(u.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),g===y&&(t(f,x,v,g,y),l(!0))}(e)},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:f,onChange:function(e){return S(e)},required:!0})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:x,onChange:function(e){return S(e)},required:!0})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:v,onChange:function(e){return S(e)},required:!0})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:g,onChange:function(e){return S(e)},minLength:"6",required:!0})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",value:y,onChange:function(e){return S(e)},minLength:"6",required:!0})}),Object(u.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(u.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(u.jsx)(i.b,{to:"/login",children:"Sign In"})]})]})}));var E=function(){return Object(u.jsx)("div",{children:"reset password"})};var F=function(){return Object(u.jsx)("div",{children:"reset password confirm"})},U=Object(b.b)(null,{verify:function(e,t){return function(){var n=Object(O.a)(m.a.mark((function n(a){var c,r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uid:e,token:t}),n.prev=2,n.next=5,x.a.post("http://127.0.0.1:8000/auth/users/activation/",r,c);case 5:a({type:"ACTIVATION_SUCCESS"}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),a({type:A});case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.verify,n=e.match,c=Object(a.useState)(!1),r=Object(d.a)(c,2),s=r[0],i=r[1];return s?Object(u.jsx)(o.a,{to:"/"}):Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"},children:[Object(u.jsx)("h1",{children:"Verify your Account:"}),Object(u.jsx)("button",{onClick:function(e){var a=n.params.uid,c=n.params.token;t(a,c),i(!0)},style:{marginTop:"50px"},type:"button",className:"btn btn-primary",children:"Verify"})]})})})),D=n(82);var q=Object(b.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:k})}}})((function(e){var t=e.logout,n=e.isAuthenticated,c=Object(a.useState)(!1),r=Object(d.a)(c,2),s=r[0],i=r[1],l=function(){t(),i(!0)};return Object(u.jsx)(a.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)(D.a,{children:[Object(u.jsx)(D.a.Item,{children:Object(u.jsx)(D.a.Link,{href:"/",children:"Home"})}),n?Object(u.jsx)(D.a.Item,{children:Object(u.jsx)(D.a.Link,{onClick:l,children:"Logout"})}):Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(D.a.Item,{children:Object(u.jsx)(D.a.Link,{href:"/login",children:"sign in"})}),Object(u.jsx)(D.a.Item,{children:Object(u.jsx)(D.a.Link,{href:"/signup",children:"sign up"})})]})]}),s?Object(u.jsx)(o.a,{to:"/login"}):Object(u.jsx)(a.Fragment,{})]})})}));var J=Object(b.b)(null,{checkAuthenticated:function(){return function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return n={headers:{"Content-Type":"application/json",Accept:"application/json"}},a=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,x.a.post("http://127.0.0.1:8000/auth/jwt/verify/",a,n);case 6:"token_not_valid"!==e.sent.data.code&&t({type:I}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:C});case 13:e.next=16;break;case 15:t({type:C});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:_})((function(e){return Object(a.useEffect)((function(){e.checkAuthenticated(),e.load_user()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(q,{}),e.children]})})),P=n(13),G=n(39),H=n(40),R={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},V=Object(P.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v:return localStorage.setItem("access",a.access),Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,access:a.access,refresh:a.refresh});case w:return Object(p.a)(Object(p.a)({},e),{},{user:a});case N:return Object(p.a)(Object(p.a)({},e),{},{user:null});case g:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(p.a)(Object(p.a)({},e),{},{access:null,refresh:null,isAuthenticated:null});case I:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0});case C:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1});case k:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(p.a)(Object(p.a)({},e),{},{access:null,refresh:null,user:null,isAuthenticated:!1});case I:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0});case A:return Object(p.a)({},e);case y:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1});case S:default:return e}}}),M=[H.a],B=Object(P.createStore)(V,{},Object(G.composeWithDevTools)(P.applyMiddleware.apply(void 0,M)));var W=function(){return Object(u.jsx)(b.a,{store:B,children:Object(u.jsx)(i.a,{children:Object(u.jsx)(J,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",component:l}),Object(u.jsx)(o.b,{exact:!0,path:"/login",component:L}),Object(u.jsx)(o.b,{exact:!0,path:"/signup",component:T}),Object(u.jsx)(o.b,{exact:!0,path:"/reset-password",component:E}),Object(u.jsx)(o.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:F}),Object(u.jsx)(o.b,{exact:!0,path:"/activate/:uid/:token",component:U})]})})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root")),z()}},[[80,1,2]]]);
//# sourceMappingURL=main.ae2cfa6b.chunk.js.map